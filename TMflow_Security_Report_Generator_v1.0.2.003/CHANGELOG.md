# 更新日誌

## v1.0.2.003 (2026-02-04)

### 🔧 狀態持久化修復
- **修復專案資料保存**: 修復 Refresh 後專案資料無法持久化的問題
- **改善配置檔案機制**: 確保 PROJECTS_DATA 欄位正確保存到 config.txt
- **優化載入流程**: 改善應用程式啟動時的資料載入和恢復邏輯
- **增強錯誤處理**: 更好的錯誤處理和詳細的日誌輸出

### 📊 配置管理改進
- **詳細統計**: 配置保存時顯示專案數、版本數、選中數統計
- **狀態恢復**: 正確恢復用戶的版本選擇狀態
- **測試工具**: 新增狀態持久化測試腳本

### 🧪 測試驗證
- 創建完整的測試流程驗證狀態持久化功能
- 包含真實 API 資料的測試配置
- 提供詳細的測試說明和步驟

## v1.0.2.002 (2026-02-03)

### 🎯 重大功能更新
- **實際 API 整合**: 整合真實的 Finite State API 調用
- **動態專案載入**: Refresh 按鈕現在能從 API 載入實際的專案和版本資料
- **正確的 API 端點**: 使用正確的 Finite State API 格式和認證方式

### 🔧 API 功能
- **專案列表**: 自動從 API 獲取 TMflow 和 TM AI+ Trainer 專案
- **版本資料**: 動態載入每個專案的所有版本
- **API 驗證**: 實際的 API 連接測試和錯誤處理
- **背景處理**: API 調用在背景執行緒中進行，不阻塞 UI

### 📊 發現的實際資料
- **TMflow 專案**: 21 個版本，包括 3.12.1100.0, 2.26.1100.0, 2.26.1000.0 等
- **TM AI+ Trainer 專案**: 3 個版本，包括 2025-12-19, 2.26.1000.0, 2.26.1100.0
- **正確的版本 ID**: 使用實際的 Finite State 版本 ID

### 🛠️ 技術改進
- **API 端點**: `https://tm-robot.finitestate.io/api/public/v0/projects`
- **認證方式**: `X-Authorization` header
- **錯誤處理**: 完善的 API 錯誤處理和用戶提示
- **日誌記錄**: 詳細的 API 調用日誌

### 🧪 測試工具
- **test_api.py**: 新增 API 測試腳本，用於驗證 API 連接和資料結構

---

## v1.0.2.001 (2026-02-03)

### 🎨 UI 功能實作
- **現代化圖形介面**: 深色主題的專業 UI 設計
- **實際報告生成**: 整合 fs-reporter 工具的真實報告生成功能
- **配置管理**: 自動載入和儲存配置檔案
- **進度追蹤**: 實時進度條和詳細日誌顯示

### 📋 主要功能
- **批量報告生成**: 支援同時生成多個版本的報告
- **雙格式支援**: Standard 和 Detailed 報告類型
- **智能檔名**: 自動時間戳記命名
- **錯誤處理**: 完善的錯誤提示和恢復機制

### 🎯 UI 設計
- **左右分割佈局**: 專案選擇在左側，API 連接和日誌在右側
- **響應式設計**: 支援視窗大小調整
- **視覺回饋**: 狀態指示器、進度條、即時日誌
- **使用者友好**: 直觀的操作流程和清晰的視覺層次

### 📁 檔案結構
- **ui_modern.py**: 主要的圖形介面程式
- **config.txt**: 配置檔案（自動管理）
- **USAGE_GUIDE.md**: 詳細使用指南
- **UI_Design_Document.md**: UI 設計文件

---

## v1.0.2 (2026-02-03)

### 🚀 初始版本
- **基礎專案結構**: 建立完整的專案架構
- **GitHub 整合**: 上傳到 GitHub 並設定 CI/CD
- **文檔完善**: README、授權條款、貢獻指南
- **工具整合**: fs-reporter 和 fs-report 工具整合

### 🔧 核心功能
- **命令列工具**: generate_reports.py 自動化腳本
- **雙工具支援**: PDF 和多格式報告生成
- **配置系統**: 靈活的配置檔案管理
- **時間戳記**: 自動檔名時間戳記

---

## 技術規格

### 系統需求
- **Python**: 3.11+
- **作業系統**: Windows, macOS, Linux
- **網路**: 需要連接到 Finite State API

### 依賴套件
- **GUI**: tkinter (內建)
- **HTTP**: requests
- **報告生成**: reportlab, matplotlib, pandas
- **其他**: 詳見 requirements.txt

### API 整合
- **平台**: Finite State Security Platform
- **認證**: API Token (X-Authorization)
- **端點**: /api/public/v0/projects
- **格式**: JSON REST API

---

## 未來規劃

### v1.0.3 (計劃中)
- **更多報告格式**: HTML、CSV、XLSX 支援
- **排程功能**: 定時自動生成報告
- **通知系統**: 報告完成通知
- **多語言支援**: 國際化和本地化

### v1.1.0 (計劃中)
- **Web 介面**: 基於 Web 的使用者介面
- **資料庫整合**: 報告歷史記錄
- **進階分析**: 趨勢分析和比較功能
- **API 擴展**: 更多 Finite State API 功能整合

---

**維護者**: kenshu528-oss  
**專案**: https://github.com/kenshu528-oss/TMflow-security-report-generator